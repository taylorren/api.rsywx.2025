<VirtualHost *:80>
    ServerName api
    ServerAlias api.yourdomain.com
    DocumentRoot /home/tr/www/api.rsywx.2025/public
    
    <Directory /home/tr/www/api.rsywx.2025/public>
        AllowOverride All
        Require all granted
        
        # Enable URL rewriting for Slim
        RewriteEngine On
        RewriteCond %{REQUEST_FILENAME} !-f
        RewriteCond %{REQUEST_FILENAME} !-d
        RewriteRule ^ index.php [QSA,L]
    </Directory>
    
    # Security headers
    Header always set X-Content-Type-Options nosniff
    Header always set X-Frame-Options DENY
    Header always set X-XSS-Protection "1; mode=block"
    
    # PHP settings
    php_value upload_max_filesize 10M
    php_value post_max_size 10M
    php_value memory_limit 256M
    
    # Logging
    ErrorLog ${APACHE_LOG_DIR}/api_error.log
    CustomLog ${APACHE_LOG_DIR}/api_access.log combined
</VirtualHost>